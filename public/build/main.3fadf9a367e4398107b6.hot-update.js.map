{"version":3,"file":"main.3fadf9a367e4398107b6.hot-update.js","sources":["C:/Users/baeyun/Documents/bukharim96/HWW/halalwatchworld-portal/src/views/client/reports/audit/Results.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  TableSortLabel,\r\n  Tooltip,\r\n  Chip,\r\n  LinearProgress,\r\n  CircularProgress,\r\n  Card,\r\n  CardHeader,\r\n} from \"@material-ui/core\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport { FileText as FileTextIcon } from \"react-feather\";\r\n\r\nimport { Report } from \"../../../reviewer/common/types\";\r\nimport CloudDownloadIcon from \"@material-ui/icons/CloudDownload\";\r\n\r\nexport default function AuditReports() {\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [reports, setReports] = useState<Report[]>([]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(`/api/client/reports/audit`)\r\n      .then(async (response) => {\r\n        setLoading(false);\r\n        console.log(response.data);\r\n        setReports(response.data);\r\n      })\r\n      .catch((e) => {\r\n        // @TODO handle\r\n        console.error(e);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader title={<strong children=\"Audit Reports\" />} />\r\n      <Divider />\r\n      <Box\r\n        p={3}\r\n        minWidth={800}\r\n        style={{\r\n          height: \"calc(100vh - 166px)\",\r\n          overflowY: \"auto\",\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n        }}\r\n      >\r\n        {(loading && <CircularProgress />) ||\r\n          (reports.length && (\r\n            <Box width=\"100%\">\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell></TableCell>\r\n                    <TableCell>\r\n                      <strong>ID</strong>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <strong>Type</strong>\r\n                    </TableCell>\r\n                    <TableCell sortDirection=\"desc\">\r\n                      <Tooltip enterDelay={300} title=\"Sort\">\r\n                        <TableSortLabel active direction=\"desc\">\r\n                          <strong>Created</strong>\r\n                        </TableSortLabel>\r\n                      </Tooltip>\r\n                    </TableCell>\r\n                    {/* <TableCell sortDirection=\"desc\">\r\n                      <Tooltip enterDelay={300} title=\"Sort\">\r\n                        <TableSortLabel active direction=\"desc\">\r\n                          <strong>Last Updated</strong>\r\n                        </TableSortLabel>\r\n                      </Tooltip>\r\n                    </TableCell> */}\r\n                    <TableCell></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {reports.map((report, i) => (\r\n                    <TableRow hover>\r\n                      <TableCell>\r\n                        <FileTextIcon />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <strong>{report.id}</strong>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Chip\r\n                          label={report.type}\r\n                          size=\"small\"\r\n                          color={\r\n                            (report.type === \"AUDIT_REPORT\" && \"primary\") ||\r\n                            \"secondary\"\r\n                          }\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {moment(report.created_at).format(\"DD/MM/YY\")}\r\n                      </TableCell>\r\n                      {/* <TableCell>\r\n                        {moment(report.updated_at).format(\"DD/MM/YY\")}{\" \"}\r\n                        <Chip\r\n                          label=\"LATEST\"\r\n                          size=\"small\"\r\n                          color=\"primary\"\r\n                          style={{ marginLeft: 7 }}\r\n                        />\r\n                      </TableCell> */}\r\n                      <TableCell>\r\n                        <Button\r\n                          startIcon={<CloudDownloadIcon />}\r\n                          variant=\"contained\"\r\n                          href={`/${report.path}`}\r\n                        >\r\n                          Download\r\n                        </Button>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </Box>\r\n          )) || (\r\n            <Box flex={1}>\r\n              <Alert severity=\"info\">\r\n                You currently have no reports. Audit Reports will show here once\r\n                the reviewer adds them.\r\n              </Alert>\r\n            </Box>\r\n          )}\r\n      </Box>\r\n    </Card>\r\n  );\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AAiBA;AACA;AAGA;AAEA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AAxHA;AACA;AADA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}