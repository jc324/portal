{"version":3,"file":"main.ff40b9d5d69c2310c512.hot-update.js","sources":["C:/Users/baeyun/Documents/bukharim96/HWW/halalwatchworld-portal/src/views/client/dashboard/DashboardView/index.tsx"],"sourcesContent":["// @ts-nocheck\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Container, Grid, makeStyles } from \"@material-ui/core\";\r\n\r\nimport Page from \"../../../../components/Page\";\r\nimport CurrentRequestProgress from \"./CurrentRequestProgress\";\r\nimport FacilitiesStat from \"./FacilitiesStat\";\r\nimport ProductsStat from \"./ProductsStat\";\r\nimport Tasks from \"./Tasks\";\r\nimport LatestReviews from \"./LatestReviews\";\r\n\r\ninterface DashboardStats {\r\n  current_request_status: string;\r\n  current_request_progress: number;\r\n  facility_count: number;\r\n  product_count: number;\r\n  has_hed: boolean;\r\n  review_request_count: number;\r\n}\r\n\r\nexport default function Dashboard() {\r\n  const classes = useStyles();\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [dashboardStats, setDashboardStats] = useState<DashboardStats>({\r\n    current_request_status: \"\",\r\n    current_request_progress: 0,\r\n    facility_count: 0,\r\n    product_count: 0,\r\n    has_hed: false,\r\n    review_request_count: 0,\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\"/api/client/dashboard\")\r\n      .then(async (response) => {\r\n        setLoading(false);\r\n        console.log(response.data);\r\n        setDashboardStats(response.data);\r\n      })\r\n      .catch((e) => {\r\n        // @TODO handle\r\n        console.error(e);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <Page className={classes.root} title=\"Dashboard\">\r\n      <Container maxWidth={false}>\r\n        <Grid container spacing={3}>\r\n          <Grid item lg={4} sm={6} xl={4} xs={12}>\r\n            <CurrentRequestProgress\r\n              status={dashboardStats.current_request_status}\r\n              progress={Math.floor(dashboardStats.current_request_progress)}\r\n            />\r\n          </Grid>\r\n          <Grid item lg={4} sm={6} xl={4} xs={12}>\r\n            <FacilitiesStat count={dashboardStats.facility_count} />\r\n          </Grid>\r\n          <Grid item lg={4} sm={6} xl={4} xs={12}>\r\n            <ProductsStat count={dashboardStats.product_count} />\r\n          </Grid>\r\n          <Grid item md={6} xs={12}>\r\n            <Tasks\r\n              hasHed={dashboardStats.has_hed}\r\n              checkStartFirstRequest={!!dashboardStats.review_request_count}\r\n            />\r\n          </Grid>\r\n          <Grid item md={6} xs={12}>\r\n            <LatestReviews />\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Page>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    // @ts-ignore\r\n    backgroundColor: theme.palette.background.dark,\r\n    minHeight: \"100%\",\r\n    paddingBottom: theme.spacing(3),\r\n    paddingTop: theme.spacing(3),\r\n  },\r\n}));\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAWA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAzDA;AACA;;;AADA;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AADA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}