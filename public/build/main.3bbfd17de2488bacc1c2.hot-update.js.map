{"version":3,"file":"main.3bbfd17de2488bacc1c2.hot-update.js","sources":["C:/Users/baeyun/Documents/bukharim96/HWW/halalwatchworld-portal/src/views/client/reports/audit/AuditReports.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Divider,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  TableSortLabel,\r\n  Tooltip,\r\n  Chip,\r\n  LinearProgress,\r\n  CircularProgress,\r\n  Card,\r\n  CardHeader,\r\n} from \"@material-ui/core\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { FileText as FileTextIcon } from \"react-feather\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport LoadingButton from \"../../../reviewer/common/LoadingButton\";\r\n\r\nimport { MAX_ALLOWED_SIZE } from \"../../../../config\";\r\nimport { Document } from \"../../../reviewer/common/types\";\r\nimport { Report, ReportDocument } from \"../../../reviewer/common/types\";\r\n// import ReportMenu from \"./ReportMenu\";\r\n\r\nexport default function AuditReports() {\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  // const { id } = useParams(); // reviewRequestId\r\n  const id = 80;\r\n  const [reports, setReports] = useState<Report[]>([]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(`/api/client/review-request/${id}/audit-reports`)\r\n      .then(async (response) => {\r\n        setLoading(false);\r\n        console.log(response.data);\r\n        setReports(response.data);\r\n      })\r\n      .catch((e) => {\r\n        // @TODO handle\r\n        console.error(e);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader title={<strong children=\"Audit Reports\" />} />\r\n      <Divider />\r\n      <Box\r\n        p={3}\r\n        minWidth={800}\r\n        style={{ height: \"calc(100vh - 166px)\", overflowY: \"auto\" }}\r\n      >\r\n        {(loading && <CircularProgress />) ||\r\n          (reports.length && (\r\n            <Box width=\"100%\">\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell></TableCell>\r\n                    <TableCell>\r\n                      <strong>ID</strong>\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <strong>Type</strong>\r\n                    </TableCell>\r\n                    <TableCell sortDirection=\"desc\">\r\n                      <Tooltip enterDelay={300} title=\"Sort\">\r\n                        <TableSortLabel active direction=\"desc\">\r\n                          <strong>Created</strong>\r\n                        </TableSortLabel>\r\n                      </Tooltip>\r\n                    </TableCell>\r\n                    {/* <TableCell sortDirection=\"desc\">\r\n                      <Tooltip enterDelay={300} title=\"Sort\">\r\n                        <TableSortLabel active direction=\"desc\">\r\n                          <strong>Last Updated</strong>\r\n                        </TableSortLabel>\r\n                      </Tooltip>\r\n                    </TableCell> */}\r\n                    <TableCell></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {reports.map((report, i) => (\r\n                    <TableRow hover>\r\n                      <TableCell>\r\n                        <FileTextIcon />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <strong>{report.id}</strong>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Chip\r\n                          label={report.type}\r\n                          size=\"small\"\r\n                          color={\r\n                            (report.type === \"AUDIT_REPORT\" && \"primary\") ||\r\n                            \"secondary\"\r\n                          }\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        {moment(report.created_at).format(\"DD/MM/YY\")}\r\n                      </TableCell>\r\n                      {/* <TableCell>\r\n                        {moment(report.updated_at).format(\"DD/MM/YY\")}{\" \"}\r\n                        <Chip\r\n                          label=\"LATEST\"\r\n                          size=\"small\"\r\n                          color=\"primary\"\r\n                          style={{ marginLeft: 7 }}\r\n                        />\r\n                      </TableCell> */}\r\n                      <TableCell>\r\n                        {/* <ReportMenu\r\n                          report={report}\r\n                          onDeleteReport={handleReportDelete}\r\n                        /> */}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </Box>\r\n          )) || (\r\n            <Box flex={1}>\r\n              <Alert severity=\"info\">\r\n                This request has no audit reports. Use the control below to add\r\n                some.\r\n              </Alert>\r\n            </Box>\r\n          )}\r\n      </Box>\r\n    </Card>\r\n  );\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AAiBA;AAGA;AAOA;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AAlHA;AACA;AADA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}